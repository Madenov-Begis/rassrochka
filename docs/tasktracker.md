/**
 * @file: tasktracker.md
 * @description: Трекер задач по проекту, статусы, прогресс
 * @dependencies: -
 * @created: 2024-07-02
 */

## Спринт 1: Базовая структура и авторизация
- [ ] Инициализация репозитория и документации
- [ ] Настроить backend (NestJS, Prisma, PostgreSQL)
- [ ] Настроить frontend (React, TailwindCSS, shadcn/ui, Zustand, TanStack Query)
- [ ] Реализовать модуль авторизации (login/password, роли)
- [ ] Создать базовые модули: admin, client, customers, installments, payments
- [ ] Разделить API по ролям
- [ ] Реализовать чёрный список (модель, сервис, endpoints для магазина)
- [ ] Реализовать аудит действий (модель, сервис, интеграция)

## Спринт 2: Бизнес-логика и интеграции
- [ ] Чёрный список и проверка просрочек
- [ ] Досрочное закрытие рассрочки
- [ ] Состояния магазина и ограничения доступа
- [ ] Логирование и аудит

## Спринт 3: UI и тестирование
- [ ] Реализовать основные страницы и формы
- [ ] Интеграция с backend
- [ ] Покрытие тестами
- [ ] Документирование API и логики

## Задача: Реализовать хук useDebounce (frontend)
- **Статус**: Выполнено
- **Описание**: Создать универсальный React-хук useDebounce для дебаунса значений, оформить по стандарту проекта, добавить документацию
- **Шаги выполнения**:
  - [x] Реализовать useDebounce с generic-типизацией и задержкой по умолчанию
  - [x] Добавить JSDoc и оформить файл по стандарту
  - [x] Описать хук и пример в docs/project.md
  - [x] Зафиксировать изменение в changelog.md
- **Зависимости**: нет

## Задача: Доработать управление пользователями
- **Статус**: Завершено
- **Описание**: Реализовать универсальную форму пользователя, валидацию, обновление только переданных полей, поддержку статусов и связи с магазином, исправить баг с обновлением storeId
- **Шаги выполнения**:
  - [x] Реализовать универсальную форму UserForm
  - [x] Добавить валидацию для пароля и других полей
  - [x] Обеспечить обновление только переданных полей (включая пароль и магазин)
  - [x] Исправить обновление storeId на backend
  - [x] Обновить документацию
- **Зависимости**: stores

## Задача: Реализация админки
- **Статус**: Завершено
- **Описание**: Полная реализация и тестирование всех функций админки (users, UX, валидация, документация)
- **Шаги выполнения**:
  - [x] Реализовать все формы и таблицы
  - [x] Обеспечить UX, валидацию, адаптивность
  - [x] Провести тестирование и устранить баги
  - [x] Синхронизировать документацию
- **Зависимости**: users, stores

## Задача: Исправить отображение рассрочек на детальной странице клиента
- **Статус**: Выполнено
- **Описание**: Реализовать отдельный endpoint для получения рассрочек клиента, обновить фронт для использования этого endpoint
- **Шаги выполнения**:
  - [x] Добавить endpoint на бэкенде
  - [x] Реализовать метод в сервисе
  - [x] Обновить API на фронте
  - [x] Перевести страницу клиента на новый endpoint
  - [x] Обновить документацию
- **Зависимости**: customers, installments

## Задача: Улучшить глобальный поиск по паспорту
- **Статус**: Выполнено
- **Описание**: Фильтровать результат поиска по паспорту — показывать только магазины с просрочкой или блокировкой, красиво отображать на фронте
- **Шаги выполнения**:
  - [x] Изменить логику поиска на бэкенде
  - [x] Обновить отображение на фронте
  - [x] Обновить документацию
- **Зависимости**: customers, installments, blacklist 

## Задача: Упростить логику чёрного списка
- **Статус**: Выполнено
- **Описание**: Удалить таблицу Blacklist и всю связанную логику, оставить только флаг isBlacklisted у клиента
- **Шаги выполнения**:
  - [x] Удалить модель Blacklist из Prisma
  - [x] Удалить сервисы, контроллеры, DTO, формы, связанные с Blacklist
  - [x] Перевести весь функционал на работу только с isBlacklisted
  - [x] Обновить документацию
- **Зависимости**: customers 